(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[0],{16:function(e,t,n){e.exports=n(17)},17:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(2),o=n(15),u=null,s=document.getElementById("video"),i=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}});case 2:return u=e.sent,s.srcObject=u,s.setAttribute("playsinline",""),s.play(),e.next=8,new Promise((function(e){s.onloadedmetadata=e,document.dispatchEvent(new Event("play"))}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,c,u,s,i,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.createElement("canvas"),n=document.getElementById("video"),r=n.videoWidth,c=n.videoHeight,t.width=r,t.height=c,(u=t.getContext("2d")).drawImage(n,0,0,r,c),s=u.getImageData(0,0,r,c),e.next=11,Object(o.scanImageData)(s);case 11:for(i=e.sent,d=0;d<i.length;++d)p=i[d],document.dispatchEvent(new CustomEvent("decode",{detail:{type:p.typeName,value:p.decode()}}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e){return new Promise((function(t){setTimeout(t,e)}))},m=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:if(null==s.srcObject){e.next=10;break}return e.next=6,d();case 6:return e.next=8,p(800);case 8:e.next=3;break;case 10:e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),(t=document.createElement("div")).innerText="Cannot get cammera: "+e.t0,document.body.appendChild(t),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.pause(),null!=u&&u.getTracks().map((function(e){e.stop()})),s.srcObject=null;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();document.addEventListener("scan",m,!1),document.addEventListener("stop",v,!1)}},[[16,1,2]]]);
//# sourceMappingURL=main.73d75875.chunk.js.map